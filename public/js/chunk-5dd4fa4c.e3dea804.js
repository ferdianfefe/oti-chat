(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5dd4fa4c"],{"293a":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"content-container pa-0"},[null!=t.activeContact?s("Message",{staticClass:"message"}):s("v-container",{staticClass:"no-msg-placeholder"},[s("small",[t._v("Click one of the contacts to start chatting!")])])],1)},n=[],c=s("5530"),i=(s("7db0"),s("2f62")),o=s("9800"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"message-card",attrs:{tile:""}},[a("nav",{staticClass:"navbar navbar-light bg-light pa-2"},[a("a",{staticClass:"navbar-brand"},[a("img",{staticClass:"mr-2",attrs:{src:s("cf05"),width:"30",height:"30",alt:"",loading:"lazy"}}),t._v(" "+t._s(t.activeContact.name)+" ")])]),a("main",t._l(t.thisRoomMessages,(function(e){return a("div",{key:e._id,staticClass:"message-item",class:e.sender==t.user?"mine":"others"},[a("div",{staticClass:"message-box"},[a("p",{staticClass:"text-primary"},[t._v(t._s(e.message))])])])})),0),a("footer",{staticClass:"bg-light"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{name:"message",type:"text",placeholder:"Type a message..."},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),a("v-btn",{staticClass:"ma-2",attrs:{type:"submit",color:"primary"},on:{click:function(e){t.loader="loading"}}},[t._v(" Send ")])],1)])])},l=[],u=(s("4de4"),s("caad"),s("2532"),{name:"Message",data:function(){return{message:""}},methods:Object(c["a"])(Object(c["a"])({},Object(i["b"])(["getMessages","sendMessage"])),{},{onSubmit:function(){var t=this,e={receiverId:this.activeContact._id,message:this.message};this.sendMessage(e).then((function(e){t.socket.emit("send-message",t.message),t.getMessages()})),this.message=""}}),computed:Object(c["a"])(Object(c["a"])({},Object(i["c"])(["activeContact","messages","socket"])),{},{user:function(){return localStorage.getItem("userId")},thisRoomMessages:function(){var t=this;return this.messages.filter((function(e){return e.room.participants.includes(t.activeContact._id)&&e.room.participants.includes(t.user)}))}}),created:function(){console.log("message loading")}}),g=u,m=(s("560a"),s("2877")),d=s("6544"),f=s.n(d),h=s("8336"),p=s("b0af"),v=Object(m["a"])(g,r,l,!1,null,null,null),b=v.exports;f()(v,{VBtn:h["a"],VCard:p["a"]});var C={components:{ContactList:o["a"],Message:b},computed:Object(c["a"])({},Object(i["c"])(["contacts","activeContact","socket"])),methods:Object(c["a"])({},Object(i["b"])(["getContacts","getMessages"])),created:function(){var t=this;this.getMessages(),this.socket.on("online",(function(e){t.contacts.find((function(t){return t._id==e})).isOnline=!0})),this.socket.on("offline",(function(e){t.contacts.find((function(t){return t._id==e})).isOnline=!1})),this.socket.on("message",(function(e){t.getMessages()})),this.getContacts(),this.socket.emit("online",localStorage.getItem("userId"))},beforeDestroy:function(){this.socket.emit("offline",localStorage.getItem("userId"))}},_=C,k=(s("69c2"),s("a523")),O=Object(m["a"])(_,a,n,!1,null,"6dc1e55f",null);e["default"]=O.exports;f()(O,{VContainer:k["a"]})},"560a":function(t,e,s){"use strict";s("8c3e")},"69c2":function(t,e,s){"use strict";s("d32f")},"8c3e":function(t,e,s){},cf05:function(t,e,s){t.exports=s.p+"img/logo.82b9c7a5.png"},d32f:function(t,e,s){}}]);
//# sourceMappingURL=chunk-5dd4fa4c.e3dea804.js.map